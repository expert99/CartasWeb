<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:decorate template="template.xhtml"/>

    <h:body>
        
        
        <h:form>
            <p:dataTable var="data" id="data" value="#{cartasBean.cartasdao.list}" resizableColumns="true" rows="5" 
                         paginator="true" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} 
                         {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,30,50,100" >
                
                
                <f:facet name="header"> 
                    Cartas
                </f:facet>
                <f:facet name="footer">
                    <h:commandButton action="#{cartasBean.gerarRelatorio()}" onclick="this.form.target='_blank'"
                                     style="background:url('Resources/pdfico.png') no-repeat; margin-left: 1240px " value="   " title="Gerar Relatório"/>
                </f:facet>
                
                <p:column headerText="ID" filterBy="#{data.id}">
                    #{data.id}
                </p:column>    
                    
                <p:column headerText="Remetente" width="14.5%" filterBy="#{data.remetente}">
                    #{data.remetente}
                </p:column>
                    
                <p:column headerText="Destinatário" width="14.5%" filterBy="#{data.destinatario}">
                    #{data.destinatario}
                </p:column>
                
                <p:column headerText="Tipo" filterBy="#{data.carta}">
                    #{data.carta}
                </p:column>
                 
                <p:column headerText="Rastreio" width="14.5%" filterBy="#{data.codigo}">
                    <h:outputLink value="http://www.linkcorreios.com.br/?id=#{data.codigo}" 
                                  target="blank">#{data.codigo}</h:outputLink>
                </p:column>
                
                <p:column headerText="CEP" filterBy="#{data.cep}">
                    #{data.cep}
                </p:column>
                
                <p:column headerText="Data" filterBy="#{data.data}">
                    #{data.data}
                </p:column>
                
                <p:column headerText="Valor" filterBy="#{data.preco}">
                    #{data.preco}
                </p:column>
                
                <p:column headerText="Ação">
                    <p:commandLink value="Atualizar" action="#{cartasBean.carregar(data)}"/>
                </p:column>
                                  
            </p:dataTable>
            
        </h:form>

                    
        
        
    </h:body>
</html>
